# New Muslim Stories - Agent Guide

This repository hosts a Next.js 14 application for "New Muslim Stories", featuring internationalization (English/Arabic), Markdown-based content management, and a modern UI with Tailwind CSS.

## 1. Build, Lint, and Test Commands

**Package Manager:** `pnpm` (v10.19.0+)

| Command | Description |
|---------|-------------|
| `pnpm dev` | Start the development server at `http://localhost:3000` |
| `pnpm build` | Build the application for production |
| `pnpm start` | Start the production server after building |
| `pnpm lint` | Run ESLint to check for code quality and errors |

**Testing:**
*Note: While `CLAUDE.md` mentions Jest, it appears testing is not currently fully configured in `package.json`.*
- If adding tests, use Jest as the runner.
- Run specific test: `npx jest path/to/file.test.ts` (once configured).

## 2. Code Style & Guidelines

### Technology Stack
- **Framework:** Next.js 14 (App Router)
- **Language:** TypeScript (Strict mode)
- **Styling:** Tailwind CSS, Framer Motion
- **i18n:** `next-intl` (en/ar)
- **CMS:** Markdown files in `src/stories/` with YAML frontmatter

### Formatting & Syntax
- **Indentation:** 2 spaces.
- **Semicolons:** Always use semicolons.
- **Quotes:** Single quotes `'` for JS/TS strings, double quotes `"` for JSX attributes.
- **Directives:** Use `'use client';` at the top of client-side components.

### Naming Conventions
- **Components:** PascalCase (e.g., `StoryCard.tsx`, `HeroSection.tsx`).
- **Files:** PascalCase for components, camelCase for utilities/hooks (e.g., `stories.ts`, `useScroll.ts`), kebab-case for config/scripts.
- **Interfaces:** PascalCase, often suffixed with `Props` for component props (e.g., `RootLayoutProps`, `ButtonProps`).
- **Variables/Functions:** camelCase.

### TypeScript & Types
- **Strict Mode:** Enabled. Avoid `any`.
- **Imports:** Use `import type` for type-only imports.
- **Props:** Define explicit interfaces for component props.
  ```typescript
  import type { ButtonProps } from '@/types/component.types';
  // or locally
  interface MyComponentProps { ... }
  ```
- **Path Aliases:** Use `@/` to refer to `src/` (e.g., `import X from '@/components/X'`).

### Component Structure
- Use functional components.
- Destructure props in the function signature.
- Keep components small and focused. Extract logic to hooks or utility functions if complex.
- **i18n:** Use `next-intl` hooks (`useTranslations`) for UI text.
  ```typescript
  import { useTranslations } from 'next-intl';
  const t = useTranslations('HomePage');
  // Usage: {t('title')}
  ```

### CSS & Styling
- Use Tailwind CSS utility classes.
- Support RTL (Right-to-Left) layouts using logical properties or `rtl:` modifiers where necessary, though usually handled by `dir="rtl"` layout.
- Dark mode is supported via `next-themes`.

### Error Handling
- Use React Error Boundaries for UI recovery.
- For async operations/API calls, use `try/catch` blocks.
- Log errors meaningfully (console.error in dev, monitoring service in prod).

### File Organization
- `src/app`: Routes and pages.
- `src/components`: Reusable UI components.
- `src/lib`: Utilities and data fetching (e.g., story parsing).
- `src/stories`: Content (Markdown).
- `messages`: Translation JSON files.

## 3. Cursor & Copilot Rules

- **Cursor:** No specific `.cursorrules` found.
- **Copilot:** No specific `.github/copilot-instructions.md` found.

---
*Generated by opencode based on repository analysis.*
